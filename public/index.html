<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <title>Rail-Ready ‚Äî Ipari & vas√∫ti logisztikai portf√≥li√≥</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Rail-Ready ‚Äî vas√∫tra optimaliz√°lt ipari √©s logisztikai ingatlanok Magyarorsz√°gon." />
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/favicon.ico">

  <meta property="og:title" content="Ipari √©s logisztikai ingatlanok Magyarorsz√°gon" />
  <meta property="og:description" content="Vas√∫tra optimaliz√°lt ipari √©s logisztikai ingatlanok Magyarorsz√°gon." />
  <meta property="og:image" content="/og-hero-rail.jpg" />

  <style>
    :root {
      --gold:#DAA520;
      --ink:#111;
      --muted:#6b7280;
      --max-width:1100px;
      --radius:14px;
    }
    * { box-sizing: border-box; }
    html,body { margin:0; padding:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; color:var(--ink); background:#fff; }
    a { color:inherit; text-decoration:none; }

    .container { max-width:var(--max-width); margin:0 auto; padding:0 20px; }

    /* NAV */
    .nav { display:flex; align-items:center; gap:14px; padding:12px 0; border-bottom:1px solid #eee; background:#fff; position:relative; z-index:10; }
    .nav img { height:36px; }
    .nav-right { margin-left:auto; display:flex; gap:16px; font-weight:500; align-items:center; }
    .btn { display:inline-block; padding:10px 14px; border-radius:10px; font-weight:600; cursor:pointer; }
    .btn-gold { background:var(--gold); color:#111; }
    .btn-ghost { border:1px solid rgba(0,0,0,.12); background:transparent; }

    /* SPLASH */
    #splash-screen {
      position:fixed; top:0; left:0; width:100%; height:100%; background:#111; display:flex; flex-direction:column; justify-content:center; align-items:center; z-index:9999;
      transition:opacity .6s ease;
    }
    #splash-screen.fade-out { opacity:0; pointer-events:none; }
    #splash-screen img { width:120px; height:120px; margin-bottom:18px; }
    #splash-progress { width:100px; height:6px; background:#333; border-radius:3px; overflow:hidden; }
    #splash-progress span { display:block; width:0; height:100%; background:#d4af37; animation:load 2s linear forwards; }
    @keyframes load { to { width:100%; } }

    /* HERO */
    #hero { position:relative; width:100%; height:100vh; overflow:hidden; display:flex; align-items:center; justify-content:center; color:white; }
    /* h√°tt√©rr√©tegek (crossfade) */
    .hero-bg { position:absolute; inset:0; background-size:cover; background-position:center; opacity:0; transition:opacity 1s ease-in-out; z-index:0; will-change:opacity; }
    .hero-bg.visible { opacity:1; }

    /* overlay (s√∂t√©t√≠t√©s) */
    #hero::after { content:""; position:absolute; inset:0; background:linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.35)); z-index:1; pointer-events:none; }

    @keyframes heroTicker { 0%{transform:translateX(0)} 100%{transform:translateX(-50%)} }
    @keyframes arrowBounce { 0%,100%{transform:translateY(0)} 50%{transform:translateY(10px)} }

    #hero .content { position:relative; z-index:2; padding:40px 20px; max-width:960px; margin:0 auto; }
    .title { font-size: clamp(28px, 6vw, 56px); line-height:1.08; margin:0 0 12px; letter-spacing:1px; color:var(--gold); text-shadow:0 2px 6px rgba(0,0,0,.6); font-weight:700; }
    .subtitle { margin:0 0 18px; font-size: clamp(16px,3vw,20px); color:#fff; text-shadow:0 2px 6px rgba(0,0,0,.6); line-height:1.55; opacity:0.98; }

    #hero-ticker { position:absolute; left:0; right:0; top:0; padding:10px 0; z-index:3; overflow:hidden; background:linear-gradient(to bottom, rgba(0,0,0,.6), rgba(0,0,0,0)); }
    #hero-ticker .ticker-track { display:flex; gap:40px; white-space:nowrap; will-change:transform; animation:heroTicker 35s linear infinite; padding:6px 0; font-size:16px; color:#FFD700; text-shadow:0 1px 3px rgba(0,0,0,.4); font-weight:500; }

    /* content layout */
    .section { padding:40px 0; }
    h2 { font-size:1.4rem; margin:0 0 14px; color:#222; }
    .grid { display:grid; gap:16px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); }

    .card { border:1px solid #eee; border-radius:var(--radius); overflow:hidden; background:#fff; }
    .card img { width:100%; height:160px; object-fit:cover; display:block; }
    .card .body { padding:14px; }
    .badge { display:inline-block; background:#f3f4f6; border-radius:999px; padding:4px 10px; font-size:12px; margin-right:8px; margin-top:6px; color:#444; }

    .footer { border-top:1px solid #eee; color:#666; }
    .footer-inner { display:flex; justify-content:space-between; gap:10px; padding:16px 0; }

    p { text-align:justify; text-justify:inter-word; hyphens:auto; line-height:1.8; }
    .section p { margin-bottom:14px; }

    /* responsive: balra igaz√≠t√°s nagyban, k√∂z√©p mobilon */
    @media (min-width:880px) {
      #hero .content { text-align:left; max-width:820px; padding-left:40px; padding-right:20px; margin-left:0; }
      .title { text-align:left; font-size: clamp(34px,4.5vw,64px); line-height:1.05; letter-spacing:.6px; }
      .subtitle { text-align:left; max-width:620px; font-size: clamp(15px,1.6vw,20px); line-height:1.6; color:rgba(255,255,255,0.95); }
      .cta-group { justify-content:flex-start; display:flex; gap:12px; margin-top:8px; }
      .arrow { text-align:left; margin-top:20px; }
      #hero { justify-content:flex-start; }
    }
    @media (max-width:879px) {
      #hero .content { text-align:center; padding:30px 18px; }
      .cta-group { justify-content:center; display:flex; gap:12px; margin-top:12px; }
      .arrow { text-align:center; margin-top:20px; }
      .title { font-size: clamp(28px,7vw,44px); }
    }
  </style>
</head>
<body>
  <!-- SPLASH -->
  <div id="splash-screen" aria-hidden="false">
    <img src="/logoip.jpg" alt="Ipariingatlan log√≥" onerror="this.onerror=null;this.src='/logo-512.png'">
    <div id="splash-progress"><span></span></div>
  </div>

  <!-- NAV -->
  <div class="container nav" role="navigation" aria-label="Fels≈ë men√º">
    <img src="logoip.jpg" alt="Rail-Ready log√≥" onerror="this.onerror=null;this.src='/logo-512.png'">
    <div class="nav-right">
      <a href="#portfolio">Portf√≥li√≥</a>
      <a href="#routes">√ötvonalak</a>
      <a href="#contact" class="btn btn-gold">Kapcsolat</a>
    </div>
  </div>

  <!-- HERO (k√©t h√°tt√©rr√©teg a crossfade-hez) -->
  <section id="hero" aria-label="Nyit√≥">
    <div class="hero-bg bg1" aria-hidden="true"></div>
    <div class="hero-bg bg2" aria-hidden="true"></div>

    <div id="hero-ticker" aria-hidden="true">
      <div class="ticker-track" aria-hidden="true"></div>
    </div>

    <div class="content container">
      <div class="hero-text">
        <h1 class="title">Ipari ter√ºletek Magyarorsz√°gon</h1>
        <p class="subtitle">Vas√∫ti sz√°ll√≠t√°sra is optimaliz√°lva ‚Äî k√∂zvetlen iparv√°g√°nyok, aut√≥p√°lya-kapcsolat √©s kiemelt energetikai kapacit√°s.</p>

        <div class="cta-group" style="display:flex; gap:12px; flex-wrap:wrap;">
          <a href="#portfolio" class="btn btn-gold">Portf√≥li√≥ megtekint√©se</a>
          <a href="#contact" class="btn btn-ghost">Kapcsolat</a>
        </div>

        <div class="arrow" style="margin-top:36px; animation:arrowBounce 2s infinite; cursor:pointer;"
             onclick="document.getElementById('intro').scrollIntoView({behavior:'smooth'})" aria-label="G√∂rgess le">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="white" style="width:40px;height:40px;opacity:.85">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
          </svg>
        </div>
      </div>
    </div>
  </section>

  <!-- INTRO -->
  <section id="intro" style="background-image:url('gallery-rail-1.jpg'); background-size:cover; background-position:center; background-attachment:fixed; position:relative; color:white; overflow:hidden;">
    <div style="position:absolute; inset:0; background:linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.55));"></div>
    <div class="container" style="position:relative; z-index:2; padding:90px 20px; text-align:left;">
      <h2 style="font-size:36px; margin-bottom:22px; color:#DAA520; letter-spacing:0.5px; text-shadow:0 0 10px rgba(0,0,0,0.5); text-align:center;">Magyarorsz√°g: a kelet‚Äìnyugati logisztikai kapu</h2>
      <div style="max-width:950px; margin:0 auto;">
        <p style="font-size:18px; line-height:1.8;">
          Magyarorsz√°g f√∂ldrajzi helyzete √©s fejleszt√©si politik√°ja r√©v√©n egyre ink√°bb
          <strong style="color:#FFD700;">kereskedelmi h√≠dk√©nt</strong> k√∂ti √∂ssze Keletet √©s Nyugatot.
        </p>
      </div>
    </div>
  </section>

  <!-- MI√âRT MAGYARORSZ√ÅG -->
  <section id="why-hungary" style="background-color:#f8f8f8; padding:80px 20px; text-align:center;">
    <h2 style="font-size:2.2rem; color:#222; margin-bottom:30px; font-weight:600;">Mi√©rt Magyarorsz√°g?</h2>
    <p style="max-width:900px; margin:0 auto 50px; font-size:1.1rem; line-height:1.7; color:#444;">Fejlett infrastrukt√∫ra, vas√∫ti-logisztikai kapcsolatok √©s ipari beruh√°z√°sok miatt kiemelt c√©lpont a befektet≈ëk sz√°m√°ra.</p>

    <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:25px; max-width:1100px; margin:0 auto;">
      <div style="background:white; padding:25px; border-radius:16px; box-shadow:0 3px 10px rgba(0,0,0,0.1);">
        <div style="font-size:40px; color:#d4af37;">üöÑ</div>
        <h3 style="margin:15px 0 10px; font-size:1.3rem;">K√∂zponti fekv√©s</h3>
        <p style="color:#555;">Kelet‚Äìnyugati tengely tal√°lkoz√°sa ‚Äî ide√°lis eloszt√≥k√∂zpont.</p>
      </div>
      <div style="background:white; padding:25px; border-radius:16px; box-shadow:0 3px 10px rgba(0,0,0,0.1);">
        <div style="font-size:40px; color:#d4af37;">üèóÔ∏è</div>
        <h3 style="margin:15px 0 10px; font-size:1.3rem;">Gyors fejleszt√©sek</h3>
        <p style="color:#555;">B≈ëv√ºl≈ë ipari parkok, vas√∫t- √©s aut√≥p√°lya-fejleszt√©sek.</p>
      </div>
      <div style="background:white; padding:25px; border-radius:16px; box-shadow:0 3px 10px rgba(0,0,0,0.1);">
        <div style="font-size:40px; color:#d4af37;">‚ö°</div>
        <h3 style="margin:15px 0 10px; font-size:1.3rem;">Energetikai h√°tt√©r</h3>
        <p style="color:#555;">Nagy ipari √°ramkapacit√°s t√°mogat√°sa.</p>
      </div>
      <div style="background:white; padding:25px; border-radius:16px; box-shadow:0 3px 10px rgba(0,0,0,0.1);">
        <div style="font-size:40px; color:#d4af37;">üåç</div>
        <h3 style="margin:15px 0 10px; font-size:1.3rem;">Nemzetk√∂zi jelenl√©t</h3>
        <p style="color:#555;">Er≈ës befektet≈ëi jelenl√©t √©s besz√°ll√≠t√≥i h√°l√≥zat.</p>
      </div>
    </div>
  </section>

  <!-- PORTF√ìLI√ì -->
  <section id="portfolio" class="section">
    <div class="container">
      <h2 style="font-size:28px;margin:0 0 12px">Rail-Ready portf√≥li√≥</h2>
      <p class="muted" style="margin:0 0 16px">Vas√∫ti bek√∂t√©ssel √©s aut√≥p√°lya-kapcsolattal rendelkez≈ë ipari ter√ºletek.</p>
      <div class="grid" id="portfolio-grid" aria-live="polite"></div>
    </div>
  </section>

  <!-- √öTVONALAK -->
  <section id="routes" class="section" style="border-top:1px solid #eee;background:#fafafa">
    <div class="container">
      <h2 style="font-size:28px;margin:0 0 12px">√ötvonalak & folyos√≥k</h2>
      <p style="margin:0 16px 16px 0; max-width:800px">Magyarorsz√°g kelet‚Äìnyugati h√≠d szerep√©re √©p√≠tve ‚Äî intermod√°lis sz√°ll√≠tm√°nyok √°trak√°sa √©s eloszt√°sa Eur√≥pa fel√©.</p>
      <ul style="margin:0; padding-left:20px; line-height:1.6">
        <li>TR ‚Üí BG/RO ‚Üí <strong>HU</strong> ‚Üí AT/DE/IT</li>
        <li>Kauk√°zus/KZ ‚Üí AZ/GE ‚Üí TR ‚Üí BG/RO ‚Üí <strong>HU</strong> ‚Üí EU mag</li>
        <li>K√∂z√©p-√Åzsia ‚Üí Kaszpi ‚Üí AZ/GE ‚Üí TR/GR ‚Üí RO ‚Üí <strong>HU</strong></li>
      </ul>
    </div>
  </section>

  <!-- H√çREK -->
  <section id="news" style="background:#111; color:white; padding:90px 20px; text-align:center;">
    <h2 style="font-size:2.2rem; color:#d4af37; margin-bottom:40px; font-weight:600;">H√≠rek √©s elemz√©sek</h2>
    <div id="news-grid" style="display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:30px; max-width:1100px; margin:0 auto;"></div>
  </section>

  <!-- KAPCSOLAT -->
  <section id="contact" class="section" style="background:#fff;border-top:1px solid #eee">
    <div class="container">
      <h2 style="font-size:28px;margin:0 0 8px">Kapcsolat</h2>
      <p style="margin:6px 0">Harai Tam√°s ¬∑ <a href="mailto:harai.tamas@harai.hu">harai.tamas@harai.hu</a> ¬∑ <a href="tel:+36309713836">+36 30 971 3836</a></p>
      <a class="btn" href="mailto:harai.tamas@harai.hu?subject=Rail-Ready%20ingatlan%20√©rdekl≈ëd√©s" style="background:#111;color:#fff;padding:14px 28px;border-radius:8px;font-weight:600;font-size:1rem;">√çrj √ºzenetet</a>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container footer-inner">
      <span>¬© iparingatlan.com</span>
      <a href="#hero">Vissza az elej√©re ‚Üë</a>
    </div>
  </footer>

  <script>
    /* ---------- seg√©df√ºggv√©nyek ---------- */
    function escapeHtml(s){ if(!s) return ''; return String(s).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

    // biztons√°gos JSON fetch
    async function safeFetchJSON(url) {
      try {
        const r = await fetch(url, { cache: 'no-store' });
        if (!r.ok) throw new Error('HTTP ' + r.status);
        return await r.json();
      } catch (e) {
        console.error('JSON bet√∂lt√©si hiba:', url, e);
        return null;
      }
    }

    /* ---------- HERO: k√©pek el≈ët√∂lt√©se √©s crossfade ---------- */
    (function heroSetup(){
      const primary = 'hero-rail.jpg';    // megl√©v≈ë hero
      const alt = 'hero-alt.jpg';         // a felhaszn√°l√≥ √°ltal felt√∂lt√∂tt alternat√≠v k√©p
      const SWITCH_INTERVAL = 6000;       // ms

      function loadImg(src){
        return new Promise((resolve,reject) => {
          const img = new Image();
          img.onload = () => resolve(src);
          img.onerror = () => reject(src);
          img.src = src;
        });
      }

      // preload: pr√≥b√°ljuk bet√∂lteni mindkett≈ët, de ha alt nem el√©rhet≈ë, fallback
      Promise.allSettled([loadImg(primary), loadImg(alt)])
        .then(results => {
          const available = results.filter(r => r.status === 'fulfilled').map(r => r.value);
          if (available.length === 0) {
            // semmi nincs ‚Äî nem val√≥sz√≠n≈±, de akkor szimpla h√°tt√©rsz√≠n
            document.querySelector('.hero-bg.bg1').style.background = '#222';
            document.querySelector('.hero-bg.bg1').classList.add('visible');
            return;
          }
          // be√°ll√≠tjuk a bg elemeket
          const bg1 = document.querySelector('.hero-bg.bg1');
          const bg2 = document.querySelector('.hero-bg.bg2');

          // els≈ëk√©nt az els≈ë el√©rhet≈ë k√©p legyen az alap
          bg1.style.backgroundImage = `url('${available[0]}')`;
          bg1.classList.add('visible');

          if (available.length === 1) {
            // csak egy k√©p van ‚Üí nincs v√°lt√°s
            return;
          }

          // ha legal√°bb kett≈ë van, ind√≠tjuk a v√°lt√°st
          let idx = 0; // index az available t√∂mbben (jelenleg az 0 l√°that√≥)
          // be√°ll√≠tjuk a m√°sodik k√©pet el≈ësz√∂r a m√°sodik bg-re
          const nextIndex = 1 % available.length;
          bg2.style.backgroundImage = `url('${available[nextIndex]}')`;
          bg2.classList.remove('visible');

          // swap f√ºggv√©ny
          function swap(){
            const currentVisible = bg1.classList.contains('visible') ? bg1 : bg2;
            const other = currentVisible === bg1 ? bg2 : bg1;
            const nextIdx = (idx + 1) % available.length;
            other.style.backgroundImage = `url('${available[nextIdx]}')`;
            // crossfade: be √©s ki
            other.classList.add('visible');
            setTimeout(() => currentVisible.classList.remove('visible'), 50);
            idx = nextIdx;
          }

          let timer = setInterval(swap, SWITCH_INTERVAL);

          // Ha az ablak nincs f√≥kuszban, le√°ll√≠tjuk az id≈ëz√≠t≈ët, hogy CPU-t sp√≥roljunk
          document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
              clearInterval(timer);
              timer = null;
            } else if (!timer) {
              timer = setInterval(swap, SWITCH_INTERVAL);
            }
          });
        });
    })();

    /* ---------- HERO ticker ---------- */
    (function initTicker(){
      const keywords = [
        "Adatk√∂zpontnak kiv√°l√≥ ter√ºlet","Fejleszt√©si ter√ºlet",
        "Eur√≥pai optikai gerinch√°l√≥zat k√∂zel√©ben",
        "Vas√∫ti iparv√°g√°nnyal rendelkez≈ë telkek",
        "M0 k√∂rgy≈±r≈± melletti logisztikai z√≥n√°k",
        "Aut√≥p√°lya-lehajt√≥n√°l fekv≈ë ter√ºletek",
        "Intermod√°lis kapacit√°s","Ipari √°ram (MW) el√©rhet≈ë",
        "B≈ëv√≠thet≈ë, egybenyithat√≥ telkek",
        "Kelet‚Äìnyugati eloszt√≥ poz√≠ci√≥",
        "TEN-T kapcsol√≥d√°s","Gyors kivitelez√©si lehet≈ës√©g"
      ];
      for (let i = keywords.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [keywords[i], keywords[j]] = [keywords[j], keywords[i]];
      }
      const track = document.querySelector('#hero-ticker .ticker-track');
      if (!track) return;
      const row = arr => arr.map(k => `<span>${escapeHtml(k)}</span>`).join('<span style="opacity:.4;">‚Ä¢</span>');
      track.innerHTML = row(keywords) + '<span style="opacity:.4;">‚Ä¢</span>' + row(keywords);
    })();

    /* ---------- SPLASH fade ---------- */
    window.addEventListener('load', () => {
      setTimeout(() => {
        const splash = document.getElementById('splash-screen');
        if (splash) {
          splash.classList.add('fade-out');
          setTimeout(() => { splash.style.display = 'none'; }, 600);
        }
      }, 900);
    });

    /* ---------- PORTF√ìLI√ì bet√∂lt√©s ---------- */
    (async function loadPortfolio(){
      const items = await safeFetchJSON('portfolio.hu.json');
      const grid = document.getElementById('portfolio-grid');
      if (!grid) return;
      if (!items || !Array.isArray(items)) {
        grid.innerHTML = '<p style="color:var(--muted)">A portf√≥li√≥ jelenleg nem el√©rhet≈ë.</p>';
        return;
      }
      grid.innerHTML = '';
      const email = 'harai.tamas@harai.hu';
      items.forEach(p => {
        const title = p.title || 'Ismeretlen ingatlan';
        const id = p.id || '';
        const subject = encodeURIComponent(`√ârdekl≈ëd√©s ‚Äì ${title}`);
        const body = encodeURIComponent(`Tisztelt C√≠m!\n\nAz al√°bbi ingatlan ir√°nt √©rdekl≈ëd√∂m:\n\n${title}\nAzonos√≠t√≥: ${id}\n\nK√©rem, vegy√©k fel velem a kapcsolatot.\n\nN√©v:\nC√©g:\nTelefon:\n\n√údv√∂zlettel,`);
        const mailto = `mailto:${email}?subject=${subject}&body=${body}`;

        const gallery = Array.isArray(p.gallery) && p.gallery.length ? p.gallery : (p.image ? [p.image] : ['gallery-rail-1.jpg']);
        const mainImg = gallery[0];
        const extraThumbs = gallery.slice(1);

        const article = document.createElement('article');
        article.className = 'card';
        article.innerHTML = `
          <img src="${mainImg}" alt="${escapeHtml(title)}" loading="lazy" decoding="async" onerror="this.onerror=null;this.src='gallery-rail-1.jpg'">
          <div class="body">
            <h3 style="margin:4px 0 8px;font-size:18px">${escapeHtml(title)}</h3>
            ${p.city ? `<p style="margin:4px 0"><strong>V√°ros:</strong> ${escapeHtml(p.city)}</p>` : ''}
            ${p.rail_access === true ? `<p style="margin:4px 0"><strong>Vas√∫t:</strong> ${escapeHtml(p.rail_notes || 'iparv√°g√°ny / vas√∫ti kapcsolat el√©rhet≈ë')}</p>` : (p.rail_access === false ? `<p style="margin:4px 0"><strong>Vas√∫t:</strong> nincs k√∂zvetlen iparv√°g√°ny</p>` : '')}
            ${p.size_ha ? `<p style="margin:4px 0"><strong>Ter√ºlet:</strong> ${escapeHtml(String(p.size_ha))} ha</p>` : ''}
            ${p.energy_mw ? `<p style="margin:4px 0"><strong>Energia:</strong> ${escapeHtml(String(p.energy_mw))} MW</p>` : ''}
            <div style="margin-top:10px">${Array.isArray(p.features) ? p.features.map(f => `<span class="badge">${escapeHtml(f)}</span>`).join('') : ''}</div>
            <div style="margin-top:10px; display:flex; gap:8px; flex-wrap:wrap;">
              <a href="${mailto}" class="btn btn-gold" style="padding:8px 12px;font-size:14px;">√ârdekel az ingatlan</a>
              ${p.video ? `<a href="${p.video}" target="_blank" rel="noopener" class="btn btn-ghost" style="padding:8px 12px;font-size:14px;">‚ñ∂ Vide√≥</a>` : ''}
            </div>
          </div>
        `;
        grid.appendChild(article);
      });
    })();

    /* ---------- H√çREK bet√∂lt√©s ---------- */
    (async function loadNews(){
      const items = await safeFetchJSON('hirek.json');
      const grid = document.getElementById('news-grid');
      if (!grid) return;
      if (!items || !Array.isArray(items)) {
        // statikus k√°rty√°k maradnak
        return;
      }
      grid.innerHTML = '';
      items.forEach(n => {
        const title = n.title || '';
        const img = n.image || 'hero-rail.jpg';
        const excerpt = n.excerpt || (Array.isArray(n.body) ? n.body[0].slice(0,160)+'...' : '');
        const card = document.createElement('article');
        card.className = 'news-card';
        card.innerHTML = `
          <img src="${img}" alt="${escapeHtml(title)}" loading="lazy" decoding="async" style="width:100%;height:200px;object-fit:cover;" onerror="this.onerror=null;this.src='hero-rail.jpg'">
          <div style="padding:16px;">
            <h3 style="margin:0 0 8px;color:var(--gold)">${escapeHtml(title)}</h3>
            <p style="margin:0 0 12px;color:#ddd">${escapeHtml(excerpt)}</p>
            <a href="hirek.html#${n.id || ''}" style="color:var(--gold);font-weight:700">Tov√°bb olvasom ‚Üí</a>
          </div>
        `;
        grid.appendChild(card);
      });
    })();

  </script>
</body>
</html>
